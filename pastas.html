<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mingle Bistro — Pastas</title>

<style>
:root{
  --gold:#D4AF37;
  --bg:#0f0f0f;
  --card:#151515;
  --muted:#bfbfbf;
  --glass-border: rgba(212,175,55,0.16);
  --text:#ffffff;
  --option-bg: rgba(255,255,255,0.02);
  --option-border: rgba(255,255,255,0.04);
}

/* Reset / Base */
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;-webkit-font-smoothing:antialiased}
a{color:inherit;text-decoration:none}

/* Top header - centered */
.top-header{
  padding:20px 16px 10px 16px;
  border-bottom:1px solid rgba(255,255,255,0.03);
  background:linear-gradient(180deg, rgba(0,0,0,0.02), transparent);
  text-align:center;
}
.restaurant-name{
  font-size:26px;
  font-weight:900;
  color:var(--gold);
  line-height:1;
  letter-spacing:0.6px;
}

/* Container */
.container{padding:12px 12px 140px 12px}

/* Tabs (centered) */
.tab-row{display:flex;gap:8px;overflow:auto;padding:12px 6px 6px;white-space:nowrap;justify-content:center}
.tab{padding:10px 14px;border-radius:999px;border:1px solid rgba(255,255,255,0.03);color:var(--gold);background:transparent;cursor:pointer;font-weight:700;flex:0 0 auto}
.tab.active{background:rgba(212,175,55,0.08)}

/* Section title (inside tab content) */
.section-title{color:var(--gold);font-weight:800;margin:6px 6px 12px 6px;font-size:16px;border-left:4px solid var(--gold);padding-left:10px}

/* Grid */
.grid{display:grid;grid-template-columns:1fr;gap:12px}
@media(min-width:900px){ .grid{grid-template-columns:repeat(2,1fr)} }

/* Item Card */
.item-card{
  background:var(--card);
  padding:14px;
  border-radius:12px;
  box-shadow:0 8px 22px rgba(0,0,0,0.6);
  cursor:pointer;
  transition:transform .10s ease,box-shadow .12s ease;
  border:1px solid rgba(255,255,255,0.02);
}
.item-card:hover{box-shadow:0 18px 36px rgba(0,0,0,0.55)}
.item-card:active{transform:scale(.998)}
.item-row{display:flex;justify-content:space-between;align-items:flex-start;gap:12px}
.item-left{min-width:0}
.item-title{font-weight:900;font-size:15px;white-space:normal;line-height:1.05}
.item-desc{color:var(--muted);font-size:13px;margin-top:6px;white-space:normal}
.price{color:#ddd;font-weight:800;font-size:14px;white-space:nowrap;min-width:84px;text-align:right;line-height:1;}

/* Modal backdrop & card */
.modal-bg{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.62);backdrop-filter:blur(6px);align-items:center;justify-content:center;z-index:120000;padding:18px}
.modal-card{
  width:clamp(340px,92vw,560px);
  max-height:86vh;
  background:linear-gradient(180deg, #0f0f0f, #0c0c0c);
  border-radius:16px;padding:18px;border:1px solid var(--glass-border);overflow:auto;
  box-shadow:0 22px 50px rgba(0,0,0,0.7);
  transform:translateY(6px);opacity:0;transition:transform .20s ease,opacity .20s ease;
}
.modal-bg.show .modal-card{transform:translateY(0);opacity:1}

/* modal header */
.modal-title{display:flex;align-items:flex-start;justify-content:space-between;gap:12px}
.modal-title > div{flex:1;min-width:0}
.modal-name{font-weight:900;color:var(--gold);font-size:20px;line-height:1.15;}
.modal-price{font-size:15px;font-weight:800;color:#fff;margin-top:6px;opacity:0.95;}
.modal-desc{color:var(--muted);margin-top:12px;font-size:14px;white-space:normal}

/* fixed close button size (prevents stretching) */
.modal-close-btn{
  flex:0 0 auto;width:36px;height:36px;border-radius:50%;border:1px solid var(--gold);background:transparent;color:var(--gold);display:flex;align-items:center;justify-content:center;cursor:pointer;font-weight:700;font-size:15px;padding:0;
}

/* Option blocks */
.option-block{margin-top:12px}

/* SIZE OPTIONS (single row) */
.option-cards{
  display:flex;
  gap:10px;
  flex-wrap:nowrap;
}

/* Base option card */
.option-card{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  padding:10px 12px;
  border-radius:12px;
  background:var(--option-bg);
  border:1px solid var(--option-border);
  cursor:pointer;
}

/* inputs */
.option-card input{
  margin:0;
}

/* label text */
.option-card .label-text{
  flex:1;
  font-weight:700;
  font-size:13px;
  color:#ddd;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* price addon */
.option-card .price-addon{
  font-size:13px;
  font-weight:800;
  color:var(--gold);
  white-space:nowrap;
}

/* SIZE refinement */
#sizeOptions .option-card{
  min-width:120px;
  padding:8px 14px;
}

/* ADD-ONS */
#addonOptions{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}

#addonOptions .option-card{
  padding:10px 12px;
  border-radius:14px;
  background:linear-gradient(180deg,#121212,#0c0c0c);
  border:1px solid rgba(255,255,255,0.06);
  box-shadow:0 4px 14px rgba(0,0,0,0.55);
  transition:all .18s ease;
}

#addonOptions .option-card:hover{
  border-color:rgba(212,175,55,0.35);
  transform:translateY(-1px);
}

#addonOptions input{
  display:none;
}

/* Selected state */
#addonOptions input:checked + .label-text{
  color:var(--gold);
}

#addonOptions input:checked ~ .price-addon{
  color:var(--gold);
}

#addonOptions input:checked ~ *{
  font-weight:800;
}

#addonOptions .label-text{
  max-width:140px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  font-size:13px;
}

#addonOptions .price-addon{
  margin-left:auto;
  font-size:13px;
  font-weight:800;
  color:#aaa;
}

/* textarea (special request) */
textarea{width:100%;height:84px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:rgba(0,0,0,0.35);padding:10px;color:#fff;font-size:14px;resize:none;outline:none;margin-top:8px}

/* qty row */
.qty-row{display:flex;align-items:center;gap:12px;margin-top:12px}
.qty-btn{width:38px;height:38px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer}
.qty-val{min-width:36px;text-align:center;font-weight:800}

/* Add + Cancel buttons */
.add-row{margin-top:16px;text-align:center}
.btn-pill{display:inline-block;width:100%;padding:12px 18px;border-radius:999px;text-align:center;background:transparent;color:var(--gold);border:1px solid var(--gold);font-weight:800;font-size:15px;cursor:pointer}
.cancel-btn{display:block;margin:12px auto 0 auto;width:68%;padding:12px;border-radius:12px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.06);color:#ddd;font-weight:700;cursor:pointer}

/* bottom pagination */
.footer-pages{position:fixed;left:0;right:0;bottom:0;padding:10px;background:linear-gradient(180deg,rgba(0,0,0,0),#070707 20%);display:flex;justify-content:center;gap:8px;z-index:900}
.page-num{padding:8px 12px;border-radius:8px;background:rgba(255,255,255,0.03);color:#ddd;border:1px solid rgba(255,255,255,0.03);font-weight:600}
.page-num.current{background:var(--gold);color:#000;border-color:var(--gold)}

/* premium cart bottom-right */
#cartWrap{position:fixed;bottom:96px;right:18px;z-index:1000} /* raised above pagination */

/* GOLD PREMIUM CART ICON */
#cartBtn{
  width:56px;
  height:56px;
  border-radius:50%;
  background: rgba(255,255,255,0.02);
  border:1px solid rgba(212,175,55,0.28);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  box-shadow:
    0 8px 20px rgba(0,0,0,0.45),
    inset 0 0 0 0.5px rgba(255,255,255,0.15);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:transform .25s ease, box-shadow .25s ease;

  color: var(--gold);
}

#cartBtn:hover{
  transform: translateY(-2px) scale(1.04);
  box-shadow:
    0 14px 28px rgba(0,0,0,0.55),
    inset 0 0 0 0.5px rgba(255,255,255,0.25);
    color:#f1d36b;
}

#cartBtn svg{
  width:28px;
  height:28px;
  opacity: 0.95;
}

/* responsive */
@media(max-width:420px){
  .restaurant-name{font-size:20px}
  #cartWrap{bottom:86px; right:14px}
  #cartBtn{width:50px;height:50px}
  .modal-card{width:92vw}
  .option-card{min-width:100px}
}

/* simple modern add-to-cart feedback */
@keyframes btnPop {
  0% { transform: scale(1); }
  40% { transform: scale(0.94); }
  100% { transform: scale(1); }
}

@keyframes cartPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.12); }
  100% { transform: scale(1); }
}

.btn-animate {
  animation: btnPop 0.25s ease;
}

.cart-animate {
  animation: cartPulse 0.35s ease;
}

/* BUBBLE TO CART ANIMATION */
.cart-bubble{
  position:fixed;
  z-index:200000;
  width:22px;
  height:22px;
  border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #ffffff, #eaeaea 65%);
  box-shadow:
    inset 0 1px 2px rgba(255,255,255,0.9),
    0 8px 22px rgba(0,0,0,0.55);
  pointer-events:none;
}

</style>
</head>

<body>

<!-- Top header (CENTERED) -->
<div class="top-header">
  <div class="restaurant-name">MINGLE BISTRO (FUNAN)</div>
</div>

<!-- Main content -->
<div class="container">

  <!-- Tabs -->
  <div class="tab-row" role="tablist" aria-label="Menu sections">
    <button class="tab active" data-tab="spaghetti"
            onclick="openTab('spaghetti')" role="tab" aria-selected="true">
      Spaghetti
    </button>
  
    <button class="tab" data-tab="rigatoni"
            onclick="openTab('rigatoni')" role="tab" aria-selected="false">
      Rigatoni
    </button>
  
    <button class="tab" data-tab="mafaldine"
            onclick="openTab('mafaldine')" role="tab" aria-selected="false">
      Mafaldine
    </button>
  </div>

<!-- SPAGHETTI TAB -->
<div class="tab-panel" data-panel="spaghetti" style="display:block">
  <div class="section-title">Spaghetti</div>
  <div class="grid">

    <!-- AGLIO OLIO -->
    <div class="item-card" onclick="openItem({
      id:'aglio',
      name:'AGLIO OLIO',
      basePrices:{tasting:11,regular:16},
      desc:'Extra virgin olive oil, white wine, garlic, dried chilli pepper, taggiasche olives, italian parsley',
      addons:[
        {name:'Plain',price:0},
        {name:'Chicken',price:5},
        {name:'Bacon & Mushrooms',price:8},
        {name:'Truffle & Mushrooms',price:9},
        {name:'2 Jumbo Prawns',price:10},
        {name:'Smoked Salmon',price:10},
        {name:'3 Hokkaido Scallops',price:16}
      ]
    })">
      <div class="item-row">
        <div class="item-left">
          <div class="item-title">AGLIO OLIO</div>
          <div class="item-desc">
            Extra virgin olive oil, white wine, garlic, dried chilli pepper,
            taggiasche olives, italian parsley
          </div>
        </div>
        <div class="price">$11 / $16</div>
      </div>
    </div>

    <!-- DRY LAKSA -->
    <div class="item-card" onclick="openItem({
      id:'drylaksa',
      name:'DRY LAKSA',
      basePrices:{tasting:11,regular:16},
      desc:'Homemade rempah, coconut cream, cherry tomatoes, arugula, chilli oil',
      addons:[
        {name:'Plain',price:0},
        {name:'Chicken',price:5},
        {name:'2 Tiger Prawns',price:10},
        {name:'Seafood',price:14}
      ]
    })">
      <div class="item-row">
        <div class="item-left">
          <div class="item-title">DRY LAKSA</div>
          <div class="item-desc">
            Homemade rempah, coconut cream, cherry tomatoes, arugula, chilli oil
          </div>
        </div>
        <div class="price">$11 / $16</div>
      </div>
    </div>

    <!-- PRAWN BISQUE -->
    <div class="item-card" onclick="openItem({
      id:'bisque',
      name:'PRAWN BISQUE',
      basePrices:{regular:null},
      desc:'Prawn collagen, mascarpone, tomato sauce, gojiberries, tobiko roe, cherry tomatoes, butter, shrimp oil',
      addons:[
        {name:'Smoked Salmon',price:30},
        {name:'2 Tiger Prawns',price:32},
        {name:'3 Hokkaido Scallops',price:38}
      ]
    })">
      <div class="item-row">
        <div class="item-left">
          <div class="item-title">PRAWN BISQUE</div>
          <div class="item-desc">
            Prawn collagen, mascarpone, tomato sauce, gojiberries,
            tobiko roe, cherry tomatoes, butter, shrimp oil
          </div>
        </div>
        <div class="price">$30+</div>
      </div>
    </div>
    
    <!-- CHICKEN COLLAGEN BROTH WITH WINE & DANG GUI -->
    <div class="item-card" onclick="openItem({
      id:'chickenbroth',
      name:'CHICKEN COLLAGEN BROTH WITH WINE & DANG GUI',
      basePrices:{regular:null},
      desc:'White wine, chinese wine, chicken collagen broth, chinese dang gui, gojiberries, garlic, cherry tomatoes',
      addons:[
        {name:'Clams & Mussels',price:28},
        {name:'2 Tiger Prawns',price:30},
        {name:'Seafood',price:32}
      ]
    })">
      <div class="item-row">
        <div class="item-left">
          <div class="item-title">CHICKEN COLLAGEN BROTH WITH WINE & DANG GUI</div>
          <div class="item-desc">
            White wine, chinese wine, chicken collagen broth,
            chinese dang gui, gojiberries, garlic, cherry tomatoes
          </div>
        </div>
        <div class="price">$28+</div>
      </div>
    </div>

    <!-- SPICY ARRABBIATA -->
    <div class="item-card" onclick="openItem({
      id:'arrabbiata',
      name:'SPICY ARRABBIATA',
      basePrices:{tasting:11,regular:16},
      desc:'Spicy garlic tomato sauce, house made chilli oil, dried chilli peppers, fresh basil, cherry tomatoes',
      addons:[
        {name:'Plain',price:0},
        {name:'Chicken',price:5},
        {name:'Pork Nduja',price:8},
        {name:'2 Tiger Prawns',price:10},
        {name:'Smoked Salmon',price:10},
        {name:'3 Hokkaido Scallops',price:16}
      ]
    })">
      <div class="item-row">
        <div class="item-left">
          <div class="item-title">SPICY ARRABBIATA</div>
          <div class="item-desc">
            Spicy garlic tomato sauce, house made chilli oil,
            dried chilli peppers, fresh basil, cherry tomatoes
          </div>
        </div>
        <div class="price">$11 / $16</div>
      </div>
    </div>
    
    <!-- WHITE PUTTANESCA GUANCIALE -->
    <div class="item-card" onclick="openItem({
      id:'puttanesca',
      name:'WHITE PUTTANESCA GUANCIALE',
      basePrices:{tasting:19,regular:26},
      desc:'Cured italian pork cheek, taggiasche olives, anchovies, capers, cherry tomatoes, garlic, lemon juice, basil, extra virgin olive oil'
    })">
      <div class="item-row">
        <div class="item-left">
          <div class="item-title">WHITE PUTTANESCA GUANCIALE</div>
          <div class="item-desc">
            Cured italian pork cheek, taggiasche olives, anchovies,
            capers, cherry tomatoes, garlic, lemon juice, basil,
            extra virgin olive oil
          </div>
        </div>
        <div class="price">$19 / $26</div>
      </div>
    </div>

    <!-- CARBONARA -->
    <div class="item-card" onclick="openItem({
      id:'carbonara',
      name:'CARBONARA GUANCIALE',
      basePrices:{tasting:19,regular:26},
      desc:'Cured italian pork cheek, black pepper, pecorino romano DOP, egg yolk'
    })">
      <div class="item-row">
        <div class="item-left">
          <div class="item-title">CARBONARA GUANCIALE</div>
          <div class="item-desc">
            Cured italian pork cheek, black pepper,
            pecorino romano DOP, egg yolk
          </div>
        </div>
        <div class="price">$19 / $26</div>
      </div>
    </div>
    
    <!-- ALL AMATRICIANA GUANCIALE -->
    <div class="item-card" onclick="openItem({
      id:'amatriciana',
      name:'ALL AMATRICIANA GUANCIALE',
      basePrices:{tasting:19,regular:26},
      desc:'Cured italian pork cheek, onions, tomato sauce, pecorino romano DOP, fresh basil'
    })">
      <div class="item-row">
        <div class="item-left">
          <div class="item-title">ALL AMATRICIANA GUANCIALE</div>
          <div class="item-desc">
            Cured italian pork cheek, onions,
            tomato sauce, pecorino romano DOP, fresh basil
          </div>
        </div>
        <div class="price">$19 / $26</div>
      </div>
    </div>

    <!-- TRUFFLE & MUSHROOMS -->
    <div class="item-card" onclick="openItem({
      id:'trufflemush',
      name:'TRUFFLE & MUSHROOMS',
      basePrices:{tasting:19,regular:26},
      desc:'Mushroom medley, black truffle cream, parmigiano reggiano, white truffle oil, butter'
    })">
      <div class="item-row">
        <div class="item-left">
          <div class="item-title">TRUFFLE & MUSHROOMS</div>
          <div class="item-desc">
            Mushroom medley, black truffle cream,
            parmigiano reggiano, white truffle oil, butter
          </div>
        </div>
        <div class="price">$19 / $26</div>
      </div>
    </div>
    
    <!-- BEEF BOLOGNESE & SMOKED PROVOLA -->
    <div class="item-card" onclick="openItem({
      id:'bolognese',
      name:'BEEF BOLOGNESE & SMOKED PROVOLA CHEESE',
      basePrices:{tasting:18,regular:25},
      desc:'Homemade beef ragù, red wine, cherry tomatoes, burnt smoked provola'
    })">
      <div class="item-row">
        <div class="item-left">
          <div class="item-title">BEEF BOLOGNESE & SMOKED PROVOLA CHEESE</div>
          <div class="item-desc">
            Homemade beef ragù, red wine,
            cherry tomatoes, burnt smoked provola
          </div>
        </div>
        <div class="price">$18 / $25</div>
      </div>
    </div>
    
    <!-- MALA DUCK RAGÙ -->
    <div class="item-card" onclick="openItem({
      id:'duckragu',
      name:'MALA DUCK RAGÙ',
      basePrices:{tasting:21,regular:28},
      desc:'Duck ragù, szechuan spices, tomato sauce, enoki mushrooms, cherry tomatoes'
    })">
      <div class="item-row">
        <div class="item-left">
          <div class="item-title">MALA DUCK RAGÙ</div>
          <div class="item-desc">
            Duck ragù, szechuan spices,
            tomato sauce, enoki mushrooms, cherry tomatoes
          </div>
        </div>
        <div class="price">$21 / $28</div>
      </div>
    </div>
    
    <!-- PORK SAUSAGE RAGÙ -->
    <div class="item-card" onclick="openItem({
      id:'porkragu',
      name:'PORK SAUSAGE RAGÙ',
      basePrices:{tasting:19,regular:26},
      desc:'Fennel pork sausage, mushroom medley, parmigiano reggiano infused cream sauce, butter'
    })">
      <div class="item-row">
        <div class="item-left">
          <div class="item-title">PORK SAUSAGE RAGÙ</div>
          <div class="item-desc">
            Fennel pork sausage, mushroom medley,
            parmigiano reggiano infused cream sauce, butter
          </div>
        </div>
        <div class="price">$19 / $26</div>
      </div>
    </div>

  <!-- SASHIMI & CRUDO TAB -->
  <div class="tab-panel" data-panel="sashimi" style="display:none">
    <div class="section-title">Sashimi & Crudo</div>
    <div class="grid">

      <div class="item-card" onclick="openItem({id:'scallop',name:'HOKKAIDO SCALLOPS CRUDO',price:19,desc:'6 slices hokkaido scallops, yuzu & citrus vinaigrette, peruvian teardrop peppers, pickled onions'})">
        <div class="item-row">
          <div class="item-left">
            <div class="item-title">HOKKAIDO SCALLOPS CRUDO</div>
            <div class="item-desc">6 slices hokkaido scallops, yuzu & citrus vinaigrette, peruvian teardrop peppers, pickled onions</div>
          </div>
          <div class="price">$19</div>
        </div>
      </div>

      <div class="item-card" onclick="openItem({id:'salmon',name:'SALMON SASHIMI',price:15,desc:'5 pieces salmon sashimi, house made nam jim chilli, wasabi, shiso leaf, Japanese cucumbers'})">
        <div class="item-row">
          <div class="item-left">
            <div class="item-title">SALMON SASHIMI</div>
            <div class="item-desc">5 pieces salmon sashimi, house made nam jim chilli, wasabi, shiso leaf, Japanese cucumbers</div>
          </div>
          <div class="price">$15</div>
        </div>
      </div>

      <div class="item-card" onclick="openItem({id:'octopus',name:'OCTOPUS SASHIMI',price:13,desc:'5 pieces octopus sashimi, house made nam jim chilli, wasabi, shiso leaf, Japanese cucumbers'})">
        <div class="item-row">
          <div class="item-left">
            <div class="item-title">OCTOPUS SASHIMI</div>
            <div class="item-desc">5 pieces octopus sashimi, house made nam jim chilli, wasabi, shiso leaf, Japanese cucumbers</div>
          </div>
          <div class="price">$13</div>
        </div>
      </div>

      <div class="item-card" onclick="openItem({id:'tartare',name:'SPICY SALMON TARTARE WITH CRISPY POPPADUMS',price:18,desc:'Salmon sashimi tartare, spicy aji verde, mexican hot sauce, mango, fresh onions, crispy poppadums, shiso leaf'})">
        <div class="item-row">
          <div class="item-left">
            <div class="item-title">SPICY SALMON TARTARE WITH CRISPY POPPADUMS</div>
            <div class="item-desc">Salmon sashimi tartare, spicy aji verde, mexican hot sauce, mango, fresh onions, crispy poppadums, shiso leaf</div>
          </div>
          <div class="price">$18</div>
        </div>
      </div>

      <div class="item-card" onclick="openItem({id:'oysters',name:'JAPANESE HYOGO PREFECTURE OYSTERS — 1/2 DOZEN',price:28,desc:'6 pieces Japanese hyogo prefecture oysters, house made nam jim chilli'})">
        <div class="item-row">
          <div class="item-left">
            <div class="item-title">JAPANESE HYOGO PREFECTURE OYSTERS — 1/2 DOZEN</div>
            <div class="item-desc">6 pieces Japanese hyogo prefecture oysters, house made nam jim chilli</div>
          </div>
          <div class="price">$28</div>
        </div>
      </div>

    </div>
  </div>

  <!-- FRIES TAB -->
  <div class="tab-panel" data-panel="fries" style="display:none">
    <div class="section-title">Skin-on & Twister Fries</div>
    <div class="grid">

      <div class="item-card" onclick="openItem({id:'salted',name:'SALTED FRIES',price:8,desc:'Served with homemade curry ketchup',type:'fries'})">
        <div class="item-row">
          <div class="item-left">
            <div class="item-title">SALTED FRIES</div>
            <div class="item-desc">Served with homemade curry ketchup</div>
          </div>
          <div class="price">$8</div>
        </div>
      </div>

      <div class="item-card" onclick="openItem({id:'truffleFries',name:'TRUFFLE & GRANA PADANO FRIES',price:15,desc:'White truffle oil, grana padano cheese',type:'fries'})">
        <div class="item-row">
          <div class="item-left">
            <div class="item-title">TRUFFLE & GRANA PADANO FRIES</div>
            <div class="item-desc">White truffle oil, grana padano cheese</div>
          </div>
          <div class="price">$15</div>
        </div>
      </div>

      <div class="item-card" onclick="openItem({id:'noriFries',name:'NORI FRIES WITH WASABI AIOLI',price:13,desc:'Japanese nori, wasabi aioli',type:'fries'})">
        <div class="item-row">
          <div class="item-left">
            <div class="item-title">NORI FRIES WITH WASABI AIOLI</div>
            <div class="item-desc">Japanese nori, wasabi aioli</div>
          </div>
          <div class="price">$13</div>
        </div>
      </div>

      <div class="item-card" onclick="openItem({id:'malaFries',name:'MALA GARLIC FRIES',price:13,desc:'Homemade Szechuan spice mix, fresh garlic, dried chillies',type:'fries'})">
        <div class="item-row">
          <div class="item-left">
            <div class="item-title">MALA GARLIC FRIES</div>
            <div class="item-desc">Homemade Szechuan spice mix, fresh garlic, dried chillies</div>
          </div>
          <div class="price">$13</div>
        </div>
      </div>

      <div class="item-card" onclick="openItem({id:'nachoFries',name:'NACHO CHEESE & ASSAM AIOLI FRIES',price:14,desc:'Nacho cheese sauce, assam aioli, sweet relish, pickled jalapeno, red onions',type:'fries'})">
        <div class="item-row">
          <div class="item-left">
            <div class="item-title">NACHO CHEESE & ASSAM AIOLI FRIES</div>
            <div class="item-desc">Nacho cheese sauce, assam aioli, sweet relish, pickled jalapeno, red onions</div>
          </div>
          <div class="price">$14</div>
        </div>
      </div>

    </div>
  </div>

</div><!-- /.container -->

<!-- Modal -->
<div id="modalBg" class="modal-bg" aria-hidden="true">
  <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalNamePrice" onclick="event.stopPropagation()">
    <div class="modal-title">
      <div>
        <div id="modalNamePrice" class="modal-name">Item name</div>
        <div id="modalPrice" class="modal-price">$0</div>
      </div>
      <button class="modal-close-btn" onclick="closeModalAnimated()" aria-label="Close">✕</button>
    </div>

    <div id="modalDesc" class="modal-desc">Description ...</div>
    
    <!-- SIZE OPTION -->
    <div id="sizeOption" class="option-block" style="display:none">
      <div style="font-weight:700;color:#ddd;margin-bottom:8px">Size</div>
      <div class="option-cards" id="sizeOptions"></div>
    </div>
    
    <!-- ADD ONS -->
    <div id="addonOption" class="option-block" style="display:none">
      <div style="font-weight:700;color:#ddd;margin-bottom:8px">Add-ons</div>
      <div class="option-cards" id="addonOptions"></div>
    </div>

    <!-- special request -->
    <div class="option-block">
      <div style="font-weight:700;color:#ddd;margin-bottom:8px">Special Request (Optional)</div>
      <textarea id="specialRequestInput" placeholder="e.g., less oil, no onion, sauce on the side"></textarea>
    </div>

    <!-- quantity -->
    <div class="qty-row" aria-label="Quantity selector">
      <button class="qty-btn" onclick="qtyChange(-1)" aria-label="Decrease quantity">−</button>
      <div class="qty-val" id="qtyValue">1</div>
      <button class="qty-btn" onclick="qtyChange(1)" aria-label="Increase quantity">+</button>
    </div>

    <div class="add-row">
      <button id="modalAddBtn" class="btn-pill" aria-label="Add to cart">Add to Cart</button>
      <button class="cancel-btn" onclick="closeModalAnimated()">Cancel</button>
    </div>
  </div>
</div>


<!-- pagination -->
<div class="footer-pages" role="navigation" aria-label="Pages">
  <a class="page-num" href="sharing_plates.html">1</a>
  <a class="page-num" href="mains_sides.html">2</a>
  <a class="page-num current" href="pastas.html">3</a>
  <a class="page-num" href="page4.html">4</a>
  <a class="page-num" href="page5.html">5</a>
  <a class="page-num" href="page6.html">6</a>
  <a class="page-num" href="page7.html">7</a>
</div>

<!-- premium cart bottom-right -->
<div id="cartWrap" aria-hidden="false">
  <div id="cartBtn" title="View cart" role="button" aria-label="View cart">
    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <defs>
        <linearGradient id="goldGradient" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#f7e7a0"/>
          <stop offset="45%" stop-color="#d4af37"/>
          <stop offset="100%" stop-color="#9f7c1c"/>
        </linearGradient>
      </defs>
      <g stroke="none" fill="none">
        <path d="M3 4h2l1.5 7h9L21 6H7z" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
        <circle cx="9" cy="18.2" r="1.6" fill="none" stroke="currentColor" stroke-width="1.4"/>
        <circle cx="17" cy="18.2" r="1.6" fill="none" stroke="currentColor" stroke-width="1.4"/>
      </g>
    </svg>
    <div id="cartBadge" aria-live="polite">0</div>
  </div>
</div>

</body>

<script>
/* GLOBAL CART */
let cart = JSON.parse(localStorage.getItem('cart') || '[]');

function saveCart(){
  localStorage.setItem('cart', JSON.stringify(cart));
  updateCartBadge();
}

function updateCartBadge(){
  const badge = document.getElementById('cartBadge');
  let totalQty = cart.reduce((sum,item)=>sum+item.qty,0);
  if(totalQty > 0){
    badge.style.display = 'block';
    badge.textContent = totalQty;
  } else {
    badge.style.display = 'none';
  }
}
updateCartBadge();

/* TAB SWITCH */
function openTab(tabName){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.querySelector(`.tab[data-tab="${tabName}"]`).classList.add('active');

  document.querySelectorAll('.tab-panel').forEach(p=>p.style.display='none');
  document.querySelector(`.tab-panel[data-panel="${tabName}"]`).style.display='block';
}

/* MODAL */
let currentItem = null;

function openItem(item){
  currentItem = item;

  document.getElementById('modalNamePrice').textContent = item.name;
  document.getElementById('modalDesc').textContent = item.desc;

  // RESET
  document.getElementById('qtyValue').textContent = 1;
  document.getElementById('specialRequestInput').value = "";

  /* ---------- SIZE OPTIONS ---------- */
  const sizeWrap = document.getElementById('sizeOption');
  const sizeBox = document.getElementById('sizeOptions');
  sizeBox.innerHTML = "";

  if(item.basePrices && item.basePrices.tasting){
    sizeWrap.style.display = "block";

    Object.entries(item.basePrices).forEach(([key,price],i)=>{
      sizeBox.innerHTML += `
        <label class="option-card">
          <input type="radio" name="size" value="${key}" data-price="${price}" ${i===0?'checked':''}>
          <span class="label-text">${key.toUpperCase()}</span>
          <span class="price-addon">$${price}</span>
        </label>
      `;
    });

    const prices = Object.values(item.basePrices);
    document.getElementById('modalPrice').textContent =
      prices.length > 1 ? `$${prices.join(' / $')}` : `$${prices[0]}`;
    } else {
    sizeWrap.style.display = "none";
    const modalPrice = document.getElementById('modalPrice');

    if(item.id === 'bisque' || item.id === 'chickenbroth'){
      modalPrice.textContent = '';
      modalPrice.style.display = 'none';
    } else {
      modalPrice.style.display = 'block';
      
      const prices = Object.values(item.basePrices || {}).filter(p => typeof p === 'number');

      if(prices.length){
        modalPrice.textContent = "$" + prices[0];
      } else {
        modalPrice.style.display = 'none';
      }
    }
  }

  /* ---------- ADDONS ---------- */
  const addonWrap = document.getElementById('addonOption');
  const addonBox = document.getElementById('addonOptions');
  addonBox.innerHTML = "";

  if(item.addons && item.addons.length){
    addonWrap.style.display = "block";

    item.addons.forEach((add, i)=>{
      addonBox.innerHTML += `
        <label class="option-card">
          <input type="checkbox"
                 data-name="${add.name}"
                 data-price="${add.price}"
                 ${i === 0 && (item.id === 'bisque' || item.id === 'chickenbroth') ? 'checked' : ''}>
          <span class="label-text">${add.name}</span>
          <span class="price-addon">${add.price ? '+$'+add.price : ''}</span>
        </label>
      `;
    });
  } else {
    addonWrap.style.display = "none";
  }

  /* Default select Plain if exists */
  const plain = [...document.querySelectorAll('.option-card input')]
    .find(i => i.dataset.name === 'Plain');
  if(plain) plain.checked = true;
    /* Show modal */
    const bg = document.getElementById('modalBg');
    bg.style.display = "flex";
    setTimeout(()=> bg.classList.add('show'), 10);
  }
  
function closeModalAnimated(){
  const bg = document.getElementById('modalBg');
  bg.classList.remove('show');
  setTimeout(()=> bg.style.display = "none", 180);
}

function closeModalInstant(){
  const bg = document.getElementById('modalBg');
  bg.classList.remove('show');
  bg.style.display = "none";
}

/* Qty */
function qtyChange(dir){
  let q = Number(document.getElementById('qtyValue').textContent);
  q += dir;
  if(q < 1) q = 1;
  document.getElementById('qtyValue').textContent = q;
}

/* CART ADD */
function pushToCart(itemObj){
  let match = cart.find(i =>
    i.id === itemObj.id &&
    i.option === itemObj.option &&
    i.spicy === itemObj.spicy &&
    i.fries === itemObj.fries &&
    i.request === itemObj.request
  );

  if(match) match.qty += itemObj.qty;
  else cart.push(itemObj);

  saveCart();
}

/* assign add button click */
document.getElementById('modalAddBtn').onclick = function(e){
  e.preventDefault();

  let qty = Number(document.getElementById('qtyValue').textContent);
  let request = document.getElementById('specialRequestInput').value.trim();

  let sizeInput = document.querySelector('input[name="size"]:checked');
  let basePrice = sizeInput ? Number(sizeInput.dataset.price) : 0;
  let sizeLabel = sizeInput ? sizeInput.value.toUpperCase() : "";

  let addons = [];
  let addonTotal = 0;

  document.querySelectorAll('#addonOptions input:checked').forEach(a=>{
    addons.push(a.dataset.name);
    addonTotal += Number(a.dataset.price);
  });
  
  let finalPrice = basePrice + addonTotal;
  let finalName = currentItem.name;

  if(sizeLabel) finalName += ` (${sizeLabel})`;
  if(addons.length) finalName += ` + ${addons.join(', ')}`;

  cart.push({
    id: currentItem.id,
    name: finalName,
    price: finalPrice,
    qty: qty,
    request: request
  });

  saveCart();

  /* visual feedback */
  this.classList.add('btn-animate');
  bubbleToCart();
  document.getElementById('cartBtn').classList.add('cart-animate');

  setTimeout(() => {
    this.classList.remove('btn-animate');
    document.getElementById('cartBtn').classList.remove('cart-animate');
    closeModalInstant();
  }, 220);
};
  
function bubbleToCart(){
  const modal = document.querySelector('.modal-card');
  const cartBtn = document.getElementById('cartBtn');
  if(!modal || !cartBtn) return;

  const m = modal.getBoundingClientRect();
  const c = cartBtn.getBoundingClientRect();

  const bubble = document.createElement('div');
  bubble.className = 'cart-bubble';

  bubble.style.top = (m.top + m.height / 2 - 11) + 'px';
  bubble.style.left = (m.left + m.width / 2 - 11) + 'px';

  document.body.appendChild(bubble);

  bubble.animate([
  {
    transform: 'scale(1)',
    opacity: 0.85
  },
  {
    top: (c.top + c.height / 2 - 11) + 'px',
    left: (c.left + c.width / 2 - 11) + 'px',
    transform: 'scale(0.6)',
    opacity: 0.9
  }
],{
  duration: 600,
  easing: 'cubic-bezier(.22,.61,.36,1)',
  fill: 'forwards'
});

  setTimeout(() => bubble.remove(), 700);
}

/* OPEN CART PAGE */
document.getElementById('cartBtn').onclick = function(){
  window.location.href = "cart.html";
};
</script>
</html>